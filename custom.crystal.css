
/* ===============================================================
   Crystal Theme — overrides pour IPTV Player Web+ v2.3
   Place ce fichier après style.css dans <head>:
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet" href="custom.crystal.css">
   =============================================================== */

/* --- Corrections layout sûres --- */
aside { display:flex; flex-direction:column; min-width:0; }
#list { flex:1 1 auto; min-height:0; overflow:auto; padding:6px; }

/* --- Header : logo non extensible --- */
header .logo { display:flex; align-items:center; }
header .header-logo, header .logo img {
  width:auto; height:40px; max-height:44px; max-width:60px; object-fit:contain;
}
header img { width:auto; } /* annule un éventuel img{width:100%} global */

/* --- Player : plein cadre, rendu identique partout --- */
#playerSection { position:relative; display:block; background:#000; overflow:hidden; }
#playerSection > video, #playerSection > iframe, #playerSection > audio {
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:contain; background:#000; display:none; z-index:1;
}
#noSource {
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  z-index:0; pointer-events:none; opacity:.85;
}
#playerSection.playing #noSource { display:none; }

/* --- NowBar : titre à gauche, actions à droite --- */
#nowBar{
  position:fixed; left:12px; right:12px; bottom:max(12px, env(safe-area-inset-bottom));
  display:grid; grid-template-columns:1fr auto; align-items:center; column-gap:8px;
  font-size:14px; pointer-events:none; z-index:1000;
}
#nowTitle{ min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
#nowBar .nowbar-actions{ display:inline-flex; gap:8px; justify-self:end; pointer-events:auto; }
#nowBar button, #nowBar a{ min-width:38px; height:34px; }

/* --- Contrôles globaux : tailles Crystal cohérentes --- */
button, input, select {
  font-size:14px; line-height:1; height:36px; padding:0 12px; border-radius:8px;
}
aside input#searchInput{
  display:block; width:calc(100% - 16px); margin:8px; height:34px; font-size:14px; box-sizing:border-box;
}

/* --- Catégories (chips) : 1 ligne + scroll horizontal --- */
#catBar {
  display:flex; align-items:center; gap:6px; padding:6px 8px;
  white-space:nowrap; overflow-x:auto; overflow-y:hidden; max-height:40px; flex:0 0 auto;
  scrollbar-width:none; -ms-overflow-style:none;
}
#catBar::-webkit-scrollbar{ display:none; }
#catBar .cat{
  display:inline-flex; align-items:center; height:28px;
  padding:0 10px; font-size:12px; border-radius:999px; flex:0 0 auto;
  background:var(--bg); color:var(--text); border:1px solid var(--border);
}
#catBar .cat.active{ background:var(--accent); color:#fff; border-color:var(--accent); }

/* --- Onglets (4) : largeurs fixes + responsive (Crystal) --- */
aside .tabs{
  display:flex; align-items:center; gap:6px; padding:6px 8px;
  flex-wrap:nowrap; overflow-x:auto; overflow-y:hidden; scrollbar-width:none; -ms-overflow-style:none;
}
aside .tabs::-webkit-scrollbar{ display:none; }
/* 81px par défaut */
aside .tabs > button:not(#btnVerifyLinks){
  flex:0 0 81px; width:81px; min-width:81px; max-width:81px;
  height:30px; padding:0 6px; font-size:12px; line-height:1;
  border-radius:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
/* Actif (soulignement Crystal) */
aside .tabs > button.active{ border-bottom:2px solid var(--accent); font-weight:700; }
/* Responsive : resserre progressivement */
@media (max-width: 900px){
  aside .tabs > button:not(#btnVerifyLinks){ flex-basis:74px; width:74px; min-width:74px; max-width:74px; }
}
@media (max-width: 600px){
  aside .tabs > button:not(#btnVerifyLinks){ flex-basis:68px; width:68px; min-width:68px; max-width:68px; font-size:11px; }
}
@media (max-width: 420px){
  aside .tabs > button:not(#btnVerifyLinks){ flex-basis:64px; width:64px; min-width:64px; max-width:64px; font-size:10.5px; padding:0 5px; }
}

/* --- “Vérifier les liens” : style chip Crystal, centré sous la barre --- */
#btnVerifyLinks{
  display:block; margin:8px auto 6px; height:28px; padding:0 12px; font-size:12px;
  border-radius:999px; width:auto; max-width:220px;
  background:var(--bg); color:var(--text); border:1px solid var(--border);
}
#btnVerifyLinks:hover{ background:var(--accent); color:#fff; border-color:var(--accent); }
